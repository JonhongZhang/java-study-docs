### 整体流程
    连接器 --> 查询缓存（8.0开始已经不再使用缓存）
    -->分析器
        -->词法分析
        -->语法分析
        -->分析机
        -->添加到语法树，生成语法树
        -->end
    -->优化器
    -->执行器
    -->写undo log MVCC/回滚
    -->写redo log
    -->写bin log  用来做主从同步，如果开启生成binlog
    -->提交事物 --> 刷redo log进磁盘
    -两阶段提交-> 刷binlog进磁盘

#### 查询缓存
    mysql在8.0之前如果开启缓存，则会从缓存中查询， 通过以查询语句为key，直接放回查询结果
    缓存以key-value 形式

#### 为什么8.0 之后删除缓存
    因为如果对一个表格数据更新压力过大，就会导致这样一个现象：
    我刚把数据放入缓存，过一会数据就被更新， 然后将缓存删除，加入缓存的好处就没有了，反而是一种负担

#### 优化器的作用
1. 决定使用那个索引；
2. 调整where 字段位置： 如果建立了联合索引，abc , 但是where 中的语句是where b=1 and a=2 and c=4
    这样肯定不满足最左匹配原则，所以mysql决定优化一下，直接调整成： where a=2 and b=1 and c = 4, 最终使用到索引
   但是如果写成，where b=1 and a=2 没有c 则mysql不会进行优化。

#### 执行器
    调用不同的索引存储引擎API， 执行解析后的sql.